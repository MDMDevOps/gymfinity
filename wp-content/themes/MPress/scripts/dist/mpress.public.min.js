var Mpress=function($){"use strict";var App={};App.Navigation=function(){var menuItems=$.map($(".menu li"),function(element){return new menuItem(element)});function closeAll(){$.each(menuItems,function(index){menuItems[index].close()})}return{closeAll:closeAll};function menuItem(li){var $li=$(li);var $link=$li.children("a");var $parent=$li.parents("ul.sub-menu");var $sub=$li.children("ul");var $last=$parent.find("a").last();var $toggle=$li.children(".dropdown-toggle");var $toptog=$parent.find(".dropdown-toggle");$toggle.on("click",toggleSubMenu);$link.on("focus",showSubMenu);$link.on("mousedown",preventFocus);$link.on("click touchstart",showSubMenu);$link.on("blur",blurMenu);function isVisible($el){if($el.css("visibility")==="hidden"||$el.css("display")==="none"||$el.css("opacity")==="0"){return false}return true}function preventFocus(event){if(event.isTrigger===undefined){event.preventDefault();return true}}function toggleSubMenu(event){event.preventDefault();if($sub.hasClass("focused")){$sub.slideUp(300,function(){$sub.removeClass("focused").attr("aria-hidden","true");$li.removeClass("focused").attr("aria-hidden","true")});$toggle.removeClass("focused").attr("aria-expanded","false");$li.removeClass("focused").attr("aria-hidden","true");return true}$sub.slideDown(300,function(){$sub.addClass("focused").attr("aria-hidden","false")});$toggle.addClass("focused").attr("aria-expanded","true");$li.addClass("focused").attr("aria-expanded","true");return false}function showSubMenu(event){if($sub===undefined){return true}if($toggle!==undefined&&$toggle.length!==0&&isVisible($toggle)&&event.type!=="focus"){return true}if(isVisible($sub)){return true}if(event.type!=="focus"){$link.focus()}event.preventDefault();$sub.addClass("focused").attr("aria-hidden","false");return false}function blurMenu(event){if($parent===undefined&&$sub===undefined){return false}setTimeout(function(){var target=$(":focus");if($parent.find(target).length||$sub.find(target).length||target.hasClass("dropdown-toggle")){return false}$parent.removeClass("focused").attr("aria-hidden","true");$sub.removeClass("focused").attr("aria-hidden","true")},1);return true}function close(){if($parent===undefined&&$sub===undefined){return false}$link.blur();$parent.removeClass("focused").attr("aria-hidden","true");$sub.removeClass("focused").attr("aria-hidden","true")}return{close:close}}}();return App}(jQuery);(function($,Mpress){"use strict";var $mark;var init=function(){$(document).ready(cacheDom);return{get:get}};var cacheDom=function(){$mark=$("#makers-mark")};var get=function(){if(typeof $mark==="undefined"){cacheDom()}if($mark.length===0){return false}return $mark.css("opacity")*10};Mpress.breakpoint=init()})(jQuery,Mpress);(function($,Mpress){"use strict";var $body,$elements,counter=0;var init=function(){$(document).ready(function(){$body=$("body");$elements=$.map($(".menu-toggle"),function(element){return new Button($(element))})});return{}};function Toggle($el){var states,antistates,options;var completeToggle=function(event,data){event.stopPropagation();$el.off(options.transitionEnd);if(typeof event.data==="undefined"||typeof event.data.action==="undefined"){return $el}var action=event.data.action;$el.removeClass(antistates[action].complete).addClass(states[action].complete).removeAttr("style");$el.trigger("toggle:done",{$el:$el});return $el};$el.animateToggle=function(action){if(options[action]){$el[options[action]](options.duration,function(){})}return $el};$el.toggle=function(action){var aria,completed=false;aria=action==="activate";$el.trigger("toggle:start");$el.off(options.transitionEnd).finish().attr("aria-expanded",aria).removeClass(antistates[action].transition).addClass(states[action].transition).animateToggle(action).one(options.transitionEnd,{action:action},function(event){completed=true;completeToggle(event)});setTimeout(function(){if(completed!==true){$el.trigger("transitionend",[{triggerer:"timeout"}])}},2e3)};(function(){options={activate:$el.data("activate")||null,deactivate:$el.data("deactivate")||null,duration:$el.data("duration")||"slow",transitionEnd:"webkitAnimationEnd mozAnimationEnd MSAnimationEnd oanimationend animationend transitionend"};states={activate:{transition:"opening",complete:"open"},deactivate:{transition:"closing",complete:"closed"}};antistates={activate:{transition:"closing closed open",complete:"closing closed opening"},deactivate:{transition:"opening open closed",complete:"opening open closing"}};$el.on("toggle:complete",completeToggle);$el.children().on(options.transitionEnd,function(event){event.stopPropagation()})})();return $el}function Button($el){var $toggles,$group,count,name;var cacheDom=function(){var group=$("[data-toggle="+name+"]");$group=group.map(function(){return $(this)});$toggles=$.map($("[data-toggle="+name+"]").not($(".menu-toggle")),function(el){return new Toggle($(el))});return};var bindEvents=function(){$el.on("click",toggleState);return};var handleCompletion=function(event,data){data.$el.off("toggle:done",handleCompletion);if(++count===$toggles.length){if($el.attr("aria-expanded")==="true"){$body.removeClass(name+"-opening").addClass(name+"-open")}else{$body.removeClass(name+"-closing").addClass(name+"-closed")}}return};var toggleState=function(event){var action,newState;event.preventDefault();count=0;if($el.attr("aria-expanded")==="false"){action="activate";$body.removeClass(name+"-closing"+" "+name+"-closed"+" "+name+"-open").addClass(name+"-opening");newState="true"}else{action="deactivate";$body.removeClass(name+"-closed"+" "+name+"-open"+" "+name+"-opening").addClass(name+"-closing");newState="false"}for(var i=0;i<$group.length;i++){$group[i].attr("aria-expanded",newState)}for(var j=0;j<$toggles.length;j++){$toggles[j].one("toggle:done",handleCompletion);$toggles[j].toggle(action)}return};(function(){name=$el.data("toggle");cacheDom();bindEvents()})();return $el}Mpress.ToggleButtons=init()})(jQuery,Mpress);(function($,Mpress){"use strict";var targets,scrollSpeed,scrollOffset,jumplinks;var init=function(){targets=$("a.jumpscroll, li.jumpscroll > a");scrollSpeed=null;scrollOffset=null;jumplinks=$.map(targets,function(el){return new JumpLink(el)});return{speed:scrollSpeed,offset:setOffset,extend:extend,elements:jumplinks}};var setOffset=function(input){scrollOffset=parseInt(input)};var extend=function(el){$.map($(el),function(el){module.elements.push(new JumpLink(el))})};function JumpLink(el){var $el,$hash,$target;var cacheDom=function(){$el=$(el);$hash=el.hash!==""?$(el.hash):$("body");$target=$hash.length!==0?$hash:$("body");return};var bindEvents=function(){$el.on("click",scroll);return};var getScrollSpeed=function(){return"slow"};var getScrollOffset=function(){console.log(scrollOffset);var offset=$el.data("scroll-offset")||scrollOffset||0;return $target.offset().top-parseInt(offset)};var scroll=function(event){event.preventDefault();$el.trigger("jumpscroll:start");$("body, html").stop().animate({scrollTop:getScrollOffset()},getScrollSpeed(),function(){$el.trigger("jumpscroll:done")});$el.blur();return $el};(function(){cacheDom();bindEvents()})();return $el}Mpress.jumpscroll=init()})(jQuery,Mpress);(function($,Mpress){"use strict";var $targets,$elements,transitionEnd;var init=function(){transitionEnd="webkitAnimationEnd mozAnimationEnd MSAnimationEnd oanimationend animationend transitionend";$targets=$(".scrolltoggle");$elements=$.map($targets,function(el){return new Toggle($(el))});return{elements:$elements}};function Toggle($el){var $trigger,offset,states,antistates;offset=$el.data("trigger-offset")||0;states={up:{transition:"scrollingUp",complete:"scrollUp"},down:{transition:"scrollingDown",complete:"scrollDown"}};antistates={up:{transition:"scrollDown scrollingDown scrollUp",complete:"scrollDown scrollingDown scrollingUp"},down:{transition:"scrollDown scrollingUp scrollUp",complete:"scrollingDown scrollingUp scrollUp"}};var cacheDom=function(){$trigger=$el};var bindEvents=function(){$trigger.waypoint(scrollTrigger,{offset:offset})};var scrollTrigger=function(direction){$el.trigger("scrolltoggle:start",[{direction:direction}]);$el.stop().removeClass(antistates[direction].transition).addClass(states[direction].transition).one(transitionEnd,function(){$el.addClass(states[direction].complete).removeClass(antistates[direction].complete)});setTimeout(function(){if(!$el.hasClass(states[direction].transition)){$el.off(transitionEnd);return}$el.addClass(states[direction].complete).removeClass(antistates[direction].complete)},1e3);$el.trigger("scrolltoggle:end",[{direction:direction}]);return};(function(){cacheDom();bindEvents()})();return $el}Mpress.scrollToggle=init()})(jQuery,Mpress);if($){$.noConflict()}jQuery(function($){$(window).on("resize",function(event){if(event.isTrigger!==undefined){return}})});
//# sourceMappingURL=mpress.public.min.js.map